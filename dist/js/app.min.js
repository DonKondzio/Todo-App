"use strict";function _defineProperty(t,e,o){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:String(t)}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!=_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}var body=document.body,sunImg=document.querySelector(".theme-toggle-img--sun"),moonImg=document.querySelector(".theme-toggle-img--moon"),createInput=document.querySelector(".create-input"),todoItemsContainer=document.querySelector(".todo-items-container"),todoBottom=document.querySelector(".todo-bottom"),markButtons=document.querySelectorAll(".todo-item-circle"),filterBtns=document.querySelectorAll(".filter-btn"),showAllBtns=document.querySelectorAll(".filter-btn--all"),showActiveBtns=document.querySelectorAll(".filter-btn--active"),showCompletedBtns=document.querySelectorAll(".filter-btn--completed"),clearCompletedBtn=document.querySelector(".todo-bottom-clear"),ThemeToggler=function(){function t(){var e=this;_classCallCheck(this,t),document.documentElement.setAttribute("data-theme","dark"),[sunImg,moonImg].forEach(function(t){return t.addEventListener("click",e.changeTheme)})}return _createClass(t,[{key:"changeTheme",value:function(){[sunImg,moonImg].forEach(function(t){return t.classList.toggle("active")});document.documentElement.getAttribute("data-theme");var t="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";body.classList.toggle("light"),document.documentElement.setAttribute("data-theme","".concat(t))}}]),t}(),TodoApp=function(){function t(){var e=this;_classCallCheck(this,t),_defineProperty(this,"todoItems",[]),_defineProperty(this,"currentId",0),_defineProperty(this,"draggedItem",void 0),new ThemeToggler;createInput.addEventListener("keyup",this.addTodoItem.bind(this)),todoItemsContainer.addEventListener("click",this.markItem),todoItemsContainer.addEventListener("click",this.removeItem.bind(this)),todoItemsContainer.addEventListener("dragstart",this.dragInit.bind(this)),todoItemsContainer.addEventListener("dragover",this.dragOver.bind(this)),todoItemsContainer.addEventListener("dragend",this.dragEnd.bind(this)),showAllBtns.forEach(function(t){return t.addEventListener("click",e.showAll.bind(e))}),showActiveBtns.forEach(function(t){return t.addEventListener("click",e.showActive.bind(e))}),showCompletedBtns.forEach(function(t){return t.addEventListener("click",e.showCompleted.bind(e))}),clearCompletedBtn.addEventListener("click",this.clearCompleted.bind(this))}return _createClass(t,[{key:"addTodoItem",value:function(t){"Enter"===t.key&&""!==createInput.value&&(this.currentId++,t=createInput.value,createInput.value="",t='\n    <div data-id="'.concat(this.currentId,'" class="todo-item" draggable="true">\n    <div class="todo-item-left">\n    <button class="todo-item-circle">\n            <img\n            src="dist/img/icon-check.svg"\n            alt="checkmark"\n            class="todo-item-circle-check"\n            />\n            <div class="todo-item-circle-gradient"></div>\n            </button>\n            <p class="todo-item-text">').concat(t,'</p>\n        </div>\n        <button class="todo-item-close">\n        <img\n        class="todo-item-close-img"\n        src="dist/img/icon-cross.svg"\n        alt="cross"\n        />\n        </button>\n        </div>\n        '),todoBottom.insertAdjacentHTML("beforebegin",t),t=document.querySelector('[data-id="'.concat(this.currentId,'"]')),this.todoItems.push(t))}},{key:"markItem",value:function(t){t.target.closest("button")&&t.target.closest("button").classList.contains("todo-item-circle")&&t.target.closest(".todo-item").classList.toggle("completed")}},{key:"removeItem",value:function(t){var e;t.target.closest("button")&&(e=t.target.closest(".todo-item"),t.target.closest("button").classList.contains("todo-item-close"))&&(todoItemsContainer.removeChild(e),this.todoItems.splice(this.todoItems.indexOf(e),1))}},{key:"showAll",value:function(){filterBtns.forEach(function(t){return t.classList.remove("active")}),showAllBtns.forEach(function(t){return t.classList.add("active")}),this.todoItems.forEach(function(t){return t.classList.remove("hidden")})}},{key:"showActive",value:function(){filterBtns.forEach(function(t){return t.classList.remove("active")}),showActiveBtns.forEach(function(t){return t.classList.add("active")}),this.todoItems.forEach(function(t){t.classList.contains("completed")?t.classList.add("hidden"):t.classList.remove("hidden")})}},{key:"showCompleted",value:function(){filterBtns.forEach(function(t){return t.classList.remove("active")}),showCompletedBtns.forEach(function(t){return t.classList.add("active")}),this.todoItems.forEach(function(t){t.classList.contains("completed")?t.classList.remove("hidden"):t.classList.add("hidden")})}},{key:"renderView",value:function(){var e=this;Array.from(document.querySelectorAll(".todo-item")).forEach(function(t){e.todoItems.includes(t)||todoItemsContainer.removeChild(t)})}},{key:"clearCompleted",value:function(){this.todoItems=this.todoItems.filter(function(t){return!t.classList.contains("completed")}),this.renderView()}},{key:"dragInit",value:function(t){this.draggedItem=t.target.closest(".todo-item"),this.draggedItem.classList.add("dragging")}},{key:"dragOver",value:function(t){var e,o=t.target.closest(".todo-item");o&&(e=o.getBoundingClientRect(),t=t.clientY-e.top,e.height/2<t?todoItemsContainer.insertBefore(this.draggedItem,o.nextElementSibling):todoItemsContainer.insertBefore(this.draggedItem,o))}},{key:"dragEnd",value:function(t){this.draggedItem.classList.remove("dragging"),this.draggedItem=""}}]),t}(),todoApp=new TodoApp;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJfZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwidCIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsInIiLCJlIiwidG9QcmltaXRpdmUiLCJOdW1iZXIiLCJjYWxsIiwiYm9keSIsInN1bkltZyIsInF1ZXJ5U2VsZWN0b3IiLCJtb29uSW1nIiwiY3JlYXRlSW5wdXQiLCJ0b2RvSXRlbXNDb250YWluZXIiLCJ0b2RvQm90dG9tIiwibWFya0J1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZG9jdW1lbnQiLCJUaGVtZVRvZ2dsZXIiLCJfdGhpcyIsInRoaXMiLCJzaG93QWxsQnRucyIsInNob3dBY3RpdmVCdG5zIiwic2hvd0NvbXBsZXRlZEJ0bnMiLCJjbGVhckNvbXBsZXRlZEJ0biIsImRvY3VtZW50RWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImZvckVhY2giLCJnZXRBdHRyaWJ1dGUiLCJ0aGVtZVRvU2V0IiwiY2hhbmdlVGhlbWUiLCJjb25jYXQiLCJUb2RvQXBwIiwiY3VycmVudFRoZW1lIiwiX3RoaXMyIiwiYWRkVG9kb0l0ZW0iLCJiaW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1hcmtJdGVtIiwicmVtb3ZlSXRlbSIsImRyYWdJbml0IiwiZHJhZ092ZXIiLCJkcmFnRW5kIiwidGhlbWVUb2dnbGVyIiwiYnRuIiwic2hvd0FsbCIsInNob3dBY3RpdmUiLCJzaG93Q29tcGxldGVkIiwiY2xlYXJDb21wbGV0ZWQiLCJjdXJyZW50SWQiLCJ0b2RvQ29udGVudCIsImh0bWwiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJuZXdUb2RvSXRlbSIsImNsb3Nlc3QiLCJ0b2RvSXRlbXMiLCJwdXNoIiwiY29udGFpbnMiLCJmaWx0ZXJCdG5zIiwidG9kb0l0ZW0iLCJyZW1vdmUiLCJzcGxpY2UiLCJpbmRleE9mIiwiYWRkIiwiaXRlbSIsIl90aGlzMyIsIkFycmF5IiwiZnJvbSIsInJlbmRlclZpZXciLCJyZW1vdmVDaGlsZCIsImZpbHRlciIsImRyYWdnZWRJdGVtIiwidG9kb0l0ZW1SZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwib2Zmc2V0IiwidG9wIiwiaGVpZ2h0IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwidG9kb0FwcCJdLCJtYXBwaW5ncyI6IkFBQUEsYUFBWSxTQUFBQSxnQkFBQUMsRUFBQUMsRUFBQUMsR0FBQSxPQUFBRCxFQUFBRSxlQUFBRixDQUFBLEtBQUFELEVBQUFJLE9BQUFDLGVBQUFMLEVBQUFDLEVBQUEsQ0FBQUMsTUFBQUEsRUFBQUksV0FBQSxDQUFBLEVBQUFDLGFBQUEsQ0FBQSxFQUFBQyxTQUFBLENBQUEsQ0FBQSxDQUFBLEVBQUFSLEVBQUFDLEdBQUFDLEVBQUFGLENBQUEsQ0FBQSxTQUFBUyxRQUFBQyxHQUFBLE9BQUFELFFBQUEsWUFBQSxPQUFBRSxRQUFBLFVBQUEsT0FBQUEsT0FBQUMsU0FBQSxTQUFBRixHQUFBLE9BQUEsT0FBQUEsQ0FBQSxFQUFBLFNBQUFBLEdBQUEsT0FBQUEsR0FBQSxZQUFBLE9BQUFDLFFBQUFELEVBQUFHLGNBQUFGLFFBQUFELElBQUFDLE9BQUFHLFVBQUEsU0FBQSxPQUFBSixDQUFBLEdBQUFBLENBQUEsQ0FBQSxDQUFBLFNBQUFLLGdCQUFBQyxF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QUEsU0FBQXFDLEdBRURDLEVBQUFWLFVBQUFhLFNBQWFKLENBQUEsR0FBQXJELG1CQUFBMEQsWUFBQUwsQ0FBQSxDQU1YLENBQUMsQ0FDSCxDQUFDLEVBQUEsQ0FBQTdGLElBQUEsaUJBQUFDLE1BRUQsV0FDRThDLEtBSkVxQyxVQUFBckMsS0FBQXFDLFVBQUFlLE9BQ0osU0FBQU4sR0FBQSxNQUFBLENBQUFBLEVBQUF2QyxVQUFBZ0MsU0FBQSxXQUFBLENBQUEsQ0FBQyxFQUFBdEYsS0FBQWlHLFdBQUEsQ0FPRCxDQUFDLEVBQUEsQ0FBQWpHLElBQUEsV0FBQUMsTUFFRCxTQUxTOEIsR0FNUGdCLEtBTENxRCxZQUFBckUsRUFBQVosT0FBQWdFLFFBQUEsWUFBQSxFQU1EcEMsS0FMQXFELFlBQWU5QyxVQUFFc0MsSUFBQSxVQUFBLENBTW5CLENBQUMsRUFBQSxDQUFBNUYsSUFBQSxXQUFBQyxNQUVELFNBUEM4QixHQVNDLElBSkRzRSxFQUZLYixFQUFDWSxFQUFXakYsT0FBS0EsUUFBT2dFLFlBQVEsRUFDcENLLElBQ0RhLEVBQUFiLEVBQUFjLHNCQUFBLEVBQUFDLEVBRUR4RSxFQUFBdUMsUUFBVStCLEVBQUVHLElBQ1ZILEVBQUFJLE9BQUEsRUFFQUYsRUFFQS9ELG1CQUFxQmdELGFBT2pCekMsS0FBS3FELFlBTFRaLEVBQVlrQixrQkFDWixFQU9PbEUsbUJBQW1CbUUsYUFBYTVELEtBQUtxRCxZQUFhWixDQUFRLEVBQ25FLENBQUMsRUFBQSxDQUFBeEYsSUFBQSxVQUFBQyxNQUVELFNBSEc4QixHQUNIZ0IsS0FBQXFELFlBQUE5QyxVQUFBbUMsT0FBQSxVQUFBLEVBQUMxQyxLQUFBcUQsWUFBQSxFQUtELENBQUMsRUFBQSxFQUFBdkMsQ0FBQSxFQUFBLEVBREMrQyxRQUFLUixJQUFBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5jb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuY29uc3Qgc3VuSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aGVtZS10b2dnbGUtaW1nLS1zdW5cIik7XHJcbmNvbnN0IG1vb25JbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRoZW1lLXRvZ2dsZS1pbWctLW1vb25cIik7XHJcbmNvbnN0IGNyZWF0ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jcmVhdGUtaW5wdXRcIik7XHJcbmNvbnN0IHRvZG9JdGVtc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1pdGVtcy1jb250YWluZXJcIik7XHJcbmNvbnN0IHRvZG9Cb3R0b20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tYm90dG9tXCIpO1xyXG5jb25zdCBtYXJrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9kby1pdGVtLWNpcmNsZVwiKTtcclxuLy8gY29uc3QgdG9kb0l0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50b2RvLWl0ZW0tY2lyY2xlXCIpO1xyXG5jb25zdCBmaWx0ZXJCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5maWx0ZXItYnRuXCIpO1xyXG5jb25zdCBzaG93QWxsQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmlsdGVyLWJ0bi0tYWxsXCIpO1xyXG5jb25zdCBzaG93QWN0aXZlQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmlsdGVyLWJ0bi0tYWN0aXZlXCIpO1xyXG5jb25zdCBzaG93Q29tcGxldGVkQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmlsdGVyLWJ0bi0tY29tcGxldGVkXCIpO1xyXG5jb25zdCBjbGVhckNvbXBsZXRlZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1ib3R0b20tY2xlYXJcIik7XHJcblxyXG5jbGFzcyBUaGVtZVRvZ2dsZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtdGhlbWVcIiwgYGRhcmtgKTtcclxuICAgIFtzdW5JbWcsIG1vb25JbWddLmZvckVhY2goKGVsKSA9PlxyXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jaGFuZ2VUaGVtZSlcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIFtzdW5JbWcsbW9vbkltZ10uZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCgpID0+IGNvbnNvbGUubG9nKCdoaScpKSk7XHJcblxyXG4gIGNoYW5nZVRoZW1lKCkge1xyXG4gICAgW3N1bkltZywgbW9vbkltZ10uZm9yRWFjaCgoZWwpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIikpO1xyXG4gICAgY29uc3QgY3VycmVudFRoZW1lID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdGhlbWVcIik7XHJcbiAgICBjb25zdCB0aGVtZVRvU2V0ID1cclxuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdGhlbWVcIikgPT09IFwiZGFya1wiXHJcbiAgICAgICAgPyBcImxpZ2h0XCJcclxuICAgICAgICA6IFwiZGFya1wiO1xyXG4gICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwibGlnaHRcIik7XHJcblxyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtdGhlbWVcIiwgYCR7dGhlbWVUb1NldH1gKTtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFRvZG9BcHAge1xyXG4gIHRvZG9JdGVtcyA9IFtdO1xyXG4gIGN1cnJlbnRJZCA9IDA7XHJcbiAgZHJhZ2dlZEl0ZW07XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBjb25zdCB0aGVtZVRvZ2dsZXIgPSBuZXcgVGhlbWVUb2dnbGVyKCk7XHJcbiAgICBjcmVhdGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5hZGRUb2RvSXRlbS5iaW5kKHRoaXMpKTtcclxuICAgIC8vIG1hcmtCdXR0b25zLmZvckVhY2goKGJ0bikgPT5cclxuICAgIC8vICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm1hcmtJdGVtLmJpbmQodGhpcykpXHJcbiAgICAvLyApO1xyXG4gICAgdG9kb0l0ZW1zQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm1hcmtJdGVtKTtcclxuICAgIHRvZG9JdGVtc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5yZW1vdmVJdGVtLmJpbmQodGhpcykpO1xyXG4gICAgdG9kb0l0ZW1zQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgdGhpcy5kcmFnSW5pdC5iaW5kKHRoaXMpKTtcclxuICAgIHRvZG9JdGVtc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgdGhpcy5kcmFnT3Zlci5iaW5kKHRoaXMpKTtcclxuICAgIHRvZG9JdGVtc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VuZFwiLCB0aGlzLmRyYWdFbmQuYmluZCh0aGlzKSk7XHJcbiAgICBzaG93QWxsQnRucy5mb3JFYWNoKChidG4pID0+XHJcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5zaG93QWxsLmJpbmQodGhpcykpXHJcbiAgICApO1xyXG4gICAgc2hvd0FjdGl2ZUJ0bnMuZm9yRWFjaCgoYnRuKSA9PlxyXG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuc2hvd0FjdGl2ZS5iaW5kKHRoaXMpKVxyXG4gICAgKTtcclxuICAgIHNob3dDb21wbGV0ZWRCdG5zLmZvckVhY2goKGJ0bikgPT5cclxuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnNob3dDb21wbGV0ZWQuYmluZCh0aGlzKSlcclxuICAgICk7XHJcbiAgICBjbGVhckNvbXBsZXRlZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGVhckNvbXBsZXRlZC5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIGFkZFRvZG9JdGVtKGUpIHtcclxuICAgIGlmIChlLmtleSAhPT0gXCJFbnRlclwiIHx8IGNyZWF0ZUlucHV0LnZhbHVlID09PSBcIlwiKSByZXR1cm47XHJcbiAgICB0aGlzLmN1cnJlbnRJZCsrO1xyXG4gICAgY29uc3QgdG9kb0NvbnRlbnQgPSBjcmVhdGVJbnB1dC52YWx1ZTtcclxuICAgIGNyZWF0ZUlucHV0LnZhbHVlID0gXCJcIjtcclxuXHJcbiAgICBjb25zdCBodG1sID0gYFxyXG4gICAgPGRpdiBkYXRhLWlkPVwiJHt0aGlzLmN1cnJlbnRJZH1cIiBjbGFzcz1cInRvZG8taXRlbVwiIGRyYWdnYWJsZT1cInRydWVcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJ0b2RvLWl0ZW0tbGVmdFwiPlxyXG4gICAgPGJ1dHRvbiBjbGFzcz1cInRvZG8taXRlbS1jaXJjbGVcIj5cclxuICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICBzcmM9XCJkaXN0L2ltZy9pY29uLWNoZWNrLnN2Z1wiXHJcbiAgICAgICAgICAgIGFsdD1cImNoZWNrbWFya1wiXHJcbiAgICAgICAgICAgIGNsYXNzPVwidG9kby1pdGVtLWNpcmNsZS1jaGVja1wiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2RvLWl0ZW0tY2lyY2xlLWdyYWRpZW50XCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8cCBjbGFzcz1cInRvZG8taXRlbS10ZXh0XCI+JHt0b2RvQ29udGVudH08L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvZG8taXRlbS1jbG9zZVwiPlxyXG4gICAgICAgIDxpbWdcclxuICAgICAgICBjbGFzcz1cInRvZG8taXRlbS1jbG9zZS1pbWdcIlxyXG4gICAgICAgIHNyYz1cImRpc3QvaW1nL2ljb24tY3Jvc3Muc3ZnXCJcclxuICAgICAgICBhbHQ9XCJjcm9zc1wiXHJcbiAgICAgICAgLz5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgdG9kb0JvdHRvbS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmViZWdpblwiLCBodG1sKTtcclxuXHJcbiAgICBjb25zdCBuZXdUb2RvSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWlkPVwiJHt0aGlzLmN1cnJlbnRJZH1cIl1gKTtcclxuICAgIHRoaXMudG9kb0l0ZW1zLnB1c2gobmV3VG9kb0l0ZW0pO1xyXG4gIH1cclxuXHJcbiAgbWFya0l0ZW0oZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KFwiYnV0dG9uXCIpKSByZXR1cm47XHJcbiAgICBpZiAoZS50YXJnZXQuY2xvc2VzdChcImJ1dHRvblwiKS5jbGFzc0xpc3QuY29udGFpbnMoXCJ0b2RvLWl0ZW0tY2lyY2xlXCIpKVxyXG4gICAgICBlLnRhcmdldC5jbG9zZXN0KFwiLnRvZG8taXRlbVwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiY29tcGxldGVkXCIpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlSXRlbShlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoXCJidXR0b25cIikpIHJldHVybjtcclxuICAgIGNvbnN0IHRvZG9JdGVtID0gZS50YXJnZXQuY2xvc2VzdChcIi50b2RvLWl0ZW1cIik7XHJcbiAgICBpZiAoZS50YXJnZXQuY2xvc2VzdChcImJ1dHRvblwiKS5jbGFzc0xpc3QuY29udGFpbnMoXCJ0b2RvLWl0ZW0tY2xvc2VcIikpIHtcclxuICAgICAgdG9kb0l0ZW1zQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRvZG9JdGVtKTtcclxuICAgICAgdGhpcy50b2RvSXRlbXMuc3BsaWNlKHRoaXMudG9kb0l0ZW1zLmluZGV4T2YodG9kb0l0ZW0pLCAxKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNob3dBbGwoKSB7XHJcbiAgICBmaWx0ZXJCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIikpO1xyXG4gICAgc2hvd0FsbEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKSk7XHJcbiAgICB0aGlzLnRvZG9JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIikpO1xyXG4gIH1cclxuXHJcbiAgc2hvd0FjdGl2ZSgpIHtcclxuICAgIGZpbHRlckJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSk7XHJcbiAgICBzaG93QWN0aXZlQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpKTtcclxuICAgIHRoaXMudG9kb0l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJjb21wbGV0ZWRcIilcclxuICAgICAgICA/IGl0ZW0uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKVxyXG4gICAgICAgIDogaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzaG93Q29tcGxldGVkKCkge1xyXG4gICAgZmlsdGVyQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcclxuICAgIHNob3dDb21wbGV0ZWRCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIikpO1xyXG4gICAgdGhpcy50b2RvSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5jb250YWlucyhcImNvbXBsZXRlZFwiKVxyXG4gICAgICAgID8gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpXHJcbiAgICAgICAgOiBpdGVtLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlclZpZXcoKSB7XHJcbiAgICBjb25zdCBjdXJyZW50RE9NSXRlbXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9kby1pdGVtXCIpKTtcclxuICAgIGN1cnJlbnRET01JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGlmICghdGhpcy50b2RvSXRlbXMuaW5jbHVkZXMoaXRlbSkpIHtcclxuICAgICAgICB0b2RvSXRlbXNDb250YWluZXIucmVtb3ZlQ2hpbGQoaXRlbSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xlYXJDb21wbGV0ZWQoKSB7XHJcbiAgICB0aGlzLnRvZG9JdGVtcyA9IHRoaXMudG9kb0l0ZW1zLmZpbHRlcihcclxuICAgICAgKGl0ZW0pID0+ICFpdGVtLmNsYXNzTGlzdC5jb250YWlucyhcImNvbXBsZXRlZFwiKVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVuZGVyVmlldygpO1xyXG4gIH1cclxuXHJcbiAgZHJhZ0luaXQoZSkge1xyXG4gICAgdGhpcy5kcmFnZ2VkSXRlbSA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIudG9kby1pdGVtXCIpO1xyXG4gICAgdGhpcy5kcmFnZ2VkSXRlbS5jbGFzc0xpc3QuYWRkKFwiZHJhZ2dpbmdcIik7XHJcbiAgfVxyXG5cclxuICBkcmFnT3ZlcihlKSB7XHJcbiAgICAvLyBBbGxvdyBkcmFnZ2luZyBvbmx5IGlmIHRoZSB0YXJnZXQgaXMgYSB0b2RvLWl0ZW1cclxuICAgIGNvbnN0IHRvZG9JdGVtID0gZS50YXJnZXQuY2xvc2VzdChcIi50b2RvLWl0ZW1cIik7XHJcbiAgICBpZiAoIXRvZG9JdGVtKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgdG9kb0l0ZW1SZWN0ID0gdG9kb0l0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIGl0ZW0gcmVjdCBpbmZvXHJcblxyXG4gICAgY29uc3Qgb2Zmc2V0ID0gZS5jbGllbnRZIC0gdG9kb0l0ZW1SZWN0LnRvcDsgLy8gZGlzdGFuY2UgYmV0d2VlbiBjdXJzb3IgYW5kIHRvcCBvZiB0b2RvIGl0ZW1cclxuICAgIGNvbnN0IHRocmVzaG9sZCA9IHRvZG9JdGVtUmVjdC5oZWlnaHQgLyAyOyAvLyBoYWxmIG9mIGl0ZW0gaGVpZ2h0XHJcblxyXG4gICAgaWYgKG9mZnNldCA+IHRocmVzaG9sZCkge1xyXG4gICAgICB0b2RvSXRlbXNDb250YWluZXIuaW5zZXJ0QmVmb3JlKFxyXG4gICAgICAgIHRoaXMuZHJhZ2dlZEl0ZW0sXHJcbiAgICAgICAgdG9kb0l0ZW0ubmV4dEVsZW1lbnRTaWJsaW5nXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgdG9kb0l0ZW1zQ29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLmRyYWdnZWRJdGVtLCB0b2RvSXRlbSk7XHJcbiAgfVxyXG5cclxuICBkcmFnRW5kKGUpIHtcclxuICAgIHRoaXMuZHJhZ2dlZEl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImRyYWdnaW5nXCIpO1xyXG4gICAgdGhpcy5kcmFnZ2VkSXRlbSA9IFwiXCI7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCB0b2RvQXBwID0gbmV3IFRvZG9BcHAoKTtcclxuIl19
